# üëê SELECT ‚Üí projection

In SQL, the `SELECT` statement allows us to specify which columns to retrieve from a table. Similarly, in MongoDB, we use **projection** in the `.find()` method to control which fields to include (or exclude) in query results.

## Syntax

```js
db.collection.find({ <query> }, { <projection> });
```

## **Projection basics**

- By default, MongoDB returns all fields in a document.
- Use projection to **include (1)** or **exclude (0)** specific fields.
- The `_id` field is always included unless explicitly excluded.
  1

## **Example 1: Retrieve only `title` and `authors` fields**

<InteractiveQueryEditor
  initialQuery='db.books.find({}, { title: 1, authors: 1, _id: 0 })'
/>

**MongoDB syntax:**
```js
db.books.find({}, { title: 1, authors: 1, _id: 0 });
```

**Equivalent SQL query:**

```sql
SELECT title, authors FROM books;
```

Here:

- `{}` means "match all documents."
- `{ title: 1, authors: 1, _id: 0 }` specifies that only `title` and `authors` should be returned, and `_id` should be excluded.

---

## **Example 2: Exclude the `reviews` field**

<InteractiveQueryEditor
  initialQuery='db.books.find({}, { reviews: 0 })'
/>

**MongoDB syntax:**
```js
db.books.find({}, { reviews: 0 });
```

**Equivalent SQL query:**
```sql
SELECT title, authors, genres, totalInventory, available FROM books;
```

Here:
- We are removing `reviews`, but all other fields will still appear.

---

## **Example 3: Using projection along with a query**

<InteractiveQueryEditor
  initialQuery='db.books.find({ genres: "Science" }, { title: 1, totalInventory: 1, _id: 0 })'
/>

**MongoDB syntax:**
```js
db.books.find({ genres: "Science" }, { title: 1, totalInventory: 1, _id: 0 });
```

**Equivalent SQL query:**
```sql
SELECT title, totalInventory FROM books WHERE genres='Science';
```

Here:
- We first **filter** books that belong to the "Science" genre.
- We then **select only** the `title` and `totalInventory` fields.

---
## **Challenge**

### üëê 1. Retrieve only the `title` field for all books.
<InteractiveExercise
  title="Challenge 1: Select only title fields"
  description="Retrieve only the title field for all books (exclude _id as well)."
  initialQuery='db.books.find({}, {title: 1, _id: 0})'
  hint="Use projection with title: 1 and _id: 0"
  solution='db.books.find({}, {title: 1, _id: 0})'
/>

<InteractiveExercise
  title="Challenge 2: Find books with genres array"
  description="Find books in the Fiction genre, but exclude the _id and reviews fields."
  initialQuery='db.books.find({ genres: "Fiction" }, { _id: 0, reviews: 0 })'
  hint="Use genres array filter and exclude fields with 0"
  solution='db.books.find({ genres: "Fiction" }, { _id: 0, reviews: 0 })'
/>

<details>
  <summary>Answers</summary>

  **Challenge 1:**
  ```js
  db.books.find({}, {title: 1, _id: 0});
  ```

  **Challenge 2:**
  ```js
  db.books.find({ "genre.name": "Fiction" }, { _id: 0, price: 0 });
  ```
</details>
